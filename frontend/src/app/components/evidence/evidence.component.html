<div id="evidence-list" class="mt-3">
  <mat-tab-group *ngIf="evidence && evidence!.length !== 0; else noEvidenceBlock" mat-stretch-tabs="false"
                 mat-align-tabs="center">
    <mat-tab *ngFor="let evidence of evidence"
             label="{{ !evidence.autoGenerated ? 'USER EVIDENCE' : (evidence.negative ? 'NEGATIVE' : 'POSITIVE') }}">
      <app-single-evidence [evidence]="evidence"></app-single-evidence>
    </mat-tab>
    <mat-tab disabled>
      <ng-template mat-tab-label>
        <button mat-icon-button class="plus-icon btn btn-primary" data-bs-toggle="modal"
                data-bs-target="#newEvidenceDialog" (click)="loadQuery()">
          <span class="material-symbols-outlined">add</span>
        </button>
      </ng-template>
    </mat-tab>
  </mat-tab-group>
  <!-- New Evidence DIALOG -->
  <div class="modal fade" id="newEvidenceDialog" tabindex="-1" aria-labelledby="newEvidenceLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5 text-center" id="newEvidenceLabel">Generate Evidence</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <pre><code id="sql" class="language-sql"></code></pre>
          </div>
          <form [formGroup]="generateEvidenceForm" (submit)="generate()">
            <div class="row">
              <mat-form-field class="col-12 mx-auto">
                <mat-label>Number of positive evidence</mat-label>
                <input matInput type="number" placeholder="Ex. 3" formControlName="positiveNumber" min="0">
                <mat-error *ngIf="positiveNumber.invalid && positiveNumber.touched">Number must be positive or 0
                </mat-error>
              </mat-form-field>
              <mat-form-field class="col-12 mx-auto">
                <mat-label>Number of negative evidence</mat-label>
                <input matInput type="number" placeholder="Ex. 3" formControlName="negativeNumber" min="0">
                <mat-error *ngIf="negativeNumber.invalid && negativeNumber.touched">Number must be positive or 0
                </mat-error>
              </mat-form-field>
            </div>

            <div class="modal-footer">
              <button type="submit" class="btn btn-primary form-control fw-bold" data-bs-dismiss="modal"
                      [disabled]="generateEvidenceForm.invalid">GENERATE
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

</div>
<ng-template #noEvidenceBlock>
  <h3 class="text-center mx-auto mb-3">No evidences</h3>
</ng-template>
